{"version":3,"sources":["fatures/Cards/ui/Card.module.scss","Header/Header.module.scss","components/helpComponent/Input.module.scss","assets/avatar.png","components/helpComponent/Button.module.scss","fatures/Modal/Modal.module.scss","components/helpComponent/Preloader.module.scss","fatures/01-auth/Profile/ui/Profile.module.scss","fatures/Packs/ui/Packs.module.scss","components/helpComponent/ErrorBar.module.scss","components/helpComponent/Link.module.scss","fatures/01-auth/Login/ui/Login.module.scss","fatures/Pagination/Pagination.module.scss","fatures/LearnPage/ui/LearnPage.module.scss","components/helpComponent/Link.tsx","components/helpComponent/Preloader.tsx","Header/Header.tsx","components/helpComponent/Input.tsx","components/helpComponent/Button.tsx","dal/api.ts","fatures/01-auth/Login/api/loginAPI.ts","fatures/01-auth/InitialApp/appReducer.ts","fatures/01-auth/Login/bll/loginReducer.ts","fatures/01-auth/Login/ui/Login.tsx","fatures/01-auth/Registration/api/regAPI.ts","fatures/01-auth/Registration/bll/registerReducer.ts","fatures/01-auth/Registration/ui/Register.tsx","fatures/01-auth/Forgot/api/recoveryAPI.ts","fatures/01-auth/Forgot/bll/recoveryReducer.ts","fatures/01-auth/Forgot/ui/Forgot.tsx","fatures/01-auth/Forgot/ui/NewPassword.tsx","fatures/Pagination/Pagination.tsx","fatures/Cards/api/cardsAPI.ts","fatures/Packs/api/packsAPI.ts","fatures/Packs/bll/packsReducer.ts","fatures/Search/bll/searchReducer.ts","fatures/Cards/bll/cardsReducer.ts","fatures/Modal/Modal.tsx","components/helpComponent/FormCardsModal.tsx","fatures/Cards/ui/SingleCard.tsx","fatures/LearnPage/ui/LearnPage.tsx","fatures/Cards/ui/Cards.tsx","fatures/01-auth/Profile/ui/Profile.tsx","fatures/Search/Search.tsx","components/helpComponent/FormModal.tsx","fatures/Packs/ui/Pack.tsx","fatures/Packs/ui/Packs.tsx","fatures/01-auth/Profile/ui/ProfileContainer.tsx","Routes/Routes.tsx","components/helpComponent/ErrorBar.tsx","fatures/01-auth/Profile/ui/SettingProfile.tsx","App.tsx","serviceWorker.ts","bll/store.ts","index.tsx"],"names":["module","exports","Link","props","path","title","to","className","style","link","Preloader","load","loading","Header","profile","name","avatar","userPhoto","ava","header","container","color","navBar","isAuth","activeClassName","active","user","src","alt","isLoading","Input","type","checkbox","input","placeholder","Button","disabled","btnDisabled","simpleButton","instance","axios","create","baseURL","withCredentials","loginAPI","email","password","rememberMe","post","result","data","delete","initialState","initialApp","error","payload","id","success","actions","auth","authMe","dispatch","a","_id","response","Login","useState","setEmail","pass","setPass","setRememberMe","useSelector","state","login","app","useDispatch","onChange","event","target","value","checked","text","onClick","err","signIn","width","marginTop","letterSpacing","regAPI","setSuccess","RegisterForm","React","memo","confirm","setConfirm","register","useEffect","confirmedPassword","length","match","registerThunk","recoveryAPI","html1","html2","token","Forgot","recovery","changeEmailHandler","useCallback","onSendHandler","recoveryThunk","fontWeight","NewPassword","setPassword","useParams","setNewPassword","newPassword","Pagination","portionNumber","setPortionNumber","pageCount","Math","ceil","cardPacksTotalCount","portionSize","sizePage","i","push","portionCount","leftPortion","rightPortion","filteredPage","filter","p","pagination","map","onPageChanged","key","page","cardsAPI","packId","get","question","answer","card","cardsPack_id","put","grade","card_id","packsAPI","search","packName","cardsPack","packs","getPacks","getState","setTotalPage","cardPacks","settings","total","cards","setCardsSuccess","getCardThunk","cardsTotalCount","Modal","children","closeModal","closeHandler","show","modalOverlay","modal","modalClose","FormCardModal","setQuestion","setAnswer","closeModalHandler","setOpenModal","openModal","e","currentTarget","display","flexDirection","margin","trim","addItem","SingleCard","oneCard","items","front","side","content","back","LearnPage","onClose","currentCard","setCurrentCard","getCard","sentGrade","grades","sendGrade","g","sum","reduce","acc","rand","random","res","newSum","Cards","modalCreate","setModalCreate","modalUpdate","setModalUpdate","showLearn","setShowLearn","currentId","setCurrentId","setPage","deleteCardHandler","cardId","deleteCard","overlay","marginLeft","addCard","updateCard","c","more_id","created","Profile","logout","overlayProfile","Search","setValue","onKeyPress","charCode","FormModal","add","CardPack","changeModal","setChangeModal","cardsCount","updatePack","CardPacks","searchInput","setSearch","pack","Date","getTime","num","createPack","ProfileContainer","Routes","render","ErrorBar","wrapper","errorMessage","SettingProfile","App","Boolean","window","location","hostname","rootReducer","combineReducers","action","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.6d7aff35.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Card_page__3ae5L\",\"container\":\"Card_container__2DtDv\",\"items\":\"Card_items__LvJp8\",\"side\":\"Card_side__2pewO\",\"content\":\"Card_content__2sMx8\",\"front\":\"Card_front__13cpF\",\"back\":\"Card_back__1uK38\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2QrRn\",\"container\":\"Header_container__2mkAL\",\"link\":\"Header_link__1xH-x\",\"active\":\"Header_active__BDwnA\",\"logout\":\"Header_logout__23tRj\",\"user\":\"Header_user__1AzpF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__1bEls\"};","module.exports = __webpack_public_path__ + \"static/media/avatar.2da04171.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"simpleButton\":\"Button_simpleButton__36xfw\",\"btnDisabled\":\"Button_btnDisabled__20iz1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalOverlay\":\"Modal_modalOverlay__1DUub\",\"modal\":\"Modal_modal__I_ohH\",\"modalClose\":\"Modal_modalClose__2l1ST\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"load\":\"Preloader_load__2RX1K\",\"loading\":\"Preloader_loading__3XAhJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlayProfile\":\"Profile_overlayProfile__3tOow\",\"profile\":\"Profile_profile__1kmVS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Packs_page__OrCyS\",\"overlay\":\"Packs_overlay__t2AUN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ErrorBar_wrapper__77sIl\",\"errorMessage\":\"ErrorBar_errorMessage__3tTMa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Link_link__1Y_lh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Login_text__q1GFX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__2L43h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"LearnPage_page__qx9pU\"};","import {NavLink} from 'react-router-dom'\r\nimport React from 'react'\r\nimport style from './Link.module.scss'\r\n\r\nexport const Link: React.FC<PropsType> = (props) => {\r\n    const {path, title} = props\r\n    return (\r\n        <NavLink to={path} className={style.link}>{title}</NavLink>\r\n    )\r\n}\r\ntype PropsType = {\r\n    path: string\r\n    title?: string | null\r\n}\r\n","import React from 'react'\r\nimport style from './Preloader.module.scss'\r\nexport const Preloader = () => {\r\n    return (\r\n        <div className={style.load}>\r\n            <div className={style.loading}>Loading</div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport style from './Header.module.scss'\r\nimport ava from '../assets/avatar.png'\r\nimport { NavLink } from 'react-router-dom'\r\nimport {Link} from '../components/helpComponent/Link'\r\nimport {Preloader} from '../components/helpComponent/Preloader'\r\n\r\ntype PropsType = {\r\n    isAuth: boolean\r\n    profile: {\r\n        name: string | null\r\n        id: string | null\r\n        avatar: string | null\r\n    }\r\n    isLoading: boolean\r\n}\r\n\r\n\r\nexport const Header = (props: PropsType) => {\r\n    const {name, avatar} = props.profile\r\n    const userPhoto = avatar ? avatar : ava\r\n    return (\r\n        <div className={style.header}>\r\n            <div className={style.container}>\r\n                <div style={{color:'white'}}>LOGO</div>\r\n                <div className={style.navBar}>\r\n                    {!props.isAuth && <>\r\n                        <NavLink to={'/forgot'} className={style.link} activeClassName={style.active}>forgot</NavLink>\r\n                        <NavLink to={'/login'} className={style.link} activeClassName={style.active}>login</NavLink>\r\n                    </>}\r\n                </div>\r\n                {props.isAuth && <div className={style.user}>\r\n                    <img src={userPhoto} alt=\"avatar\"/>\r\n                    <Link path={'/profile'} title={name}/>\r\n                </div>}\r\n            </div>\r\n            {props.isLoading &&  <Preloader/>}\r\n        </div>\r\n    )\r\n}\r\n","import React, {DetailedHTMLProps, InputHTMLAttributes} from 'react'\r\nimport style from './Input.module.scss'\r\n\r\ntype InputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\nexport function Input(props: InputPropsType) {\r\n    return (\r\n        <>{props.type === 'checkbox' ?\r\n            <label className={style.checkbox}>\r\n                <input className={props.type === 'checkbox' ? style.checkbox : style.input}{...props}/>\r\n                {props.placeholder}\r\n            </label> :\r\n            <input className={props.type === 'checkbox' ? style.checkbox : style.input}{...props}/>}\r\n        </>\r\n    );\r\n};\r\n","import React, {ButtonHTMLAttributes, DetailedHTMLProps} from 'react'\r\nimport style from './Button.module.scss'\r\n\r\ntype PropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement >\r\n\r\nexport const Button = (props: PropsType) => {\r\n    const {name, disabled} = props;\r\n    return <button {...props}\r\n                   className={props.disabled ? `${style.btnDisabled} ${style.simpleButton}`: style.simpleButton}\r\n                   disabled={disabled}>{name}</button>\r\n}\r\n","import axios from 'axios'\r\n\r\nconst baseURL = 'https://neko-back.herokuapp.com/2.0'\r\nexport const instance = axios.create({\r\n    baseURL,\r\n    withCredentials: true\r\n});\r\n","import {instance} from '../../../../dal/api'\r\n\r\n\r\nexport const loginAPI = {\r\n    async signIn(email: string, password: string, rememberMe: boolean) {\r\n        const result = await instance.post('/auth/login', {email, password, rememberMe})\r\n        return result.data\r\n    },\r\n    async authMe() {\r\n        const result = await instance.post('/auth/me')\r\n        return result.data\r\n    },\r\n    async signOut() {\r\n        await instance.delete('/auth/me')\r\n\r\n    }\r\n}\r\n","import { authMe } from \"../Login/bll/loginReducer\"\r\n\r\nconst initialState = {\r\n    initialApp: false,\r\n    isLoading: false,\r\n    error: null as string | null\r\n}\r\nexport const appReducer = (state: InitialState = initialState, action: Actions) => {\r\n    switch (action.type) {\r\n        case 'INITIAL/APP/REDUCER':\r\n        case 'PAYLOAD/APP/REDUCER':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const payload = (isLoading: boolean, error: string | null) => {\r\n    return {type: 'PAYLOAD/APP/REDUCER', payload: {isLoading, error}} as const\r\n}\r\nexport const initialApp = (initialApp: boolean) => {\r\n    return {type: 'INITIAL/APP/REDUCER', payload: {initialApp}} as const\r\n}\r\nexport const initApp = () =>async (dispatch:any) => {\r\n    await dispatch(authMe())\r\n    dispatch(initialApp(true))\r\n}\r\ntype InitialState = typeof initialState\r\nexport type AppPayloadType = ReturnType<typeof payload>\r\ntype Actions = AppPayloadType | ReturnType<typeof initialApp>\r\n","import {InferActionTypes, ThunkActionType} from '../../../../entites/entites'\r\nimport {loginAPI} from '../api/loginAPI'\r\nimport {Dispatch} from 'redux'\r\nimport {AppPayloadType, payload} from '../../InitialApp/appReducer'\r\n\r\nconst initialState = {\r\n    isAuth: false,\r\n    profile: {\r\n        name: null as string | null,\r\n        id: null as string | null,\r\n        avatar: null as string | null\r\n    },\r\n    success: false\r\n}\r\n\r\nexport const loginReducer = (state: LoginType = initialState, action: LoginActionsType) => {\r\n    switch (action.type) {\r\n        case 'SET_PROFILE/REDUCER':\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    name: action.name,\r\n                    id: action.id,\r\n                    avatar: action.avatar\r\n                }\r\n            }\r\n        case 'AUTH_ME/LOGIN/REDUCER':\r\n            return {\r\n                ...state,\r\n                isAuth: action.auth\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n// action creator\r\nconst actions = {\r\n    setAthMe: (auth: boolean) => ({type: 'AUTH_ME/LOGIN/REDUCER', auth} as const),\r\n    setProfile: (name: string | null, id: string | null, avatar: string | null) =>\r\n        ({type: 'SET_PROFILE/REDUCER', name, id, avatar} as const)\r\n}\r\n\r\n\r\n//thunk\r\nexport const signIn = (email: string, password: string, rememberMe = false): LoginThunkType => {\r\n    return async (dispatch) => {\r\n        dispatch(payload(true, null))\r\n        try {\r\n            await loginAPI.signIn(email, password, rememberMe)\r\n            dispatch(payload(false, null))\r\n            await dispatch(authMe())\r\n        } catch (e) {\r\n            const err = e.response.data.error\r\n            dispatch(payload(false, err))\r\n        }\r\n    }\r\n}\r\nexport const authMe = (): LoginThunkType => async (dispatch) => {\r\n    dispatch(payload(true, null))\r\n    try {\r\n        const data = await loginAPI.authMe()\r\n        const {name, _id, avatar} = data\r\n        dispatch(actions.setAthMe(true))\r\n        dispatch(payload(false, null))\r\n        dispatch(actions.setProfile(name, _id, avatar))\r\n\r\n    } catch (e) {\r\n        dispatch(payload(false, e.response.data.error))\r\n    }\r\n}\r\nexport const logout = () => async (dispatch: Dispatch) => {\r\n    await loginAPI.signOut()\r\n    dispatch(actions.setProfile(null, null, null))\r\n    dispatch(actions.setAthMe(false))\r\n\r\n}\r\n\r\n\r\n//type\r\ntype LoginType = typeof initialState\r\ntype LoginActionsType = InferActionTypes<typeof actions>\r\ntype LoginThunkType = ThunkActionType<LoginActionsType | AppPayloadType>\r\n","import React, {ChangeEvent, useState} from 'react'\r\nimport {Input} from '../../../../components/helpComponent/Input'\r\nimport {Button} from '../../../../components/helpComponent/Button'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {signIn} from '../bll/loginReducer'\r\nimport {NavLink, Redirect} from 'react-router-dom'\r\nimport {AppStateType} from '../../../../bll/store'\r\n\r\nimport style from './Login.module.scss'\r\n\r\nexport const Login = () => {\r\n    const [email, setEmail] = useState<string>('test@email.nya')\r\n    const [pass, setPass] = useState<string>('test@email.nya123')\r\n    const [rememberMe, setRememberMe] = useState<boolean>(true)\r\n    const {isAuth} = useSelector((state: AppStateType) => state.login)\r\n    const {isLoading} = useSelector((state: AppStateType) => state.app)\r\n    const dispatch = useDispatch()\r\n\r\n    const changeEmailHandler = (event: ChangeEvent<HTMLInputElement>) => setEmail(event.target.value)\r\n    const changePassHandler = (event: ChangeEvent<HTMLInputElement>) => setPass(event.target.value)\r\n    const changeRememberHandler = (event: ChangeEvent<HTMLInputElement>) => setRememberMe(event.target.checked)\r\n    const onSendHandler = () => dispatch(signIn(email, pass, rememberMe))\r\n\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    const styleLogin = {\r\n        width: '200px',\r\n        marginTop: '10px',\r\n        letterSpacing: '10px'\r\n    }\r\n    return (\r\n        <div className={'page-form'}>\r\n            <h2>Login</h2>\r\n            <Input placeholder={'email'} onChange={changeEmailHandler} value={email}/>\r\n            <Input placeholder={'password'} type={'password'} onChange={changePassHandler} value={pass}/>\r\n            <Input placeholder={'remember me'} type={'checkbox'} onChange={changeRememberHandler} checked={rememberMe}/>\r\n            <p className={style.text}>forgot password or email <NavLink to={'/forgot'}>forgot</NavLink></p>\r\n            <NavLink to={'/registration'}>registration</NavLink>\r\n            <Button name={'send'} onClick={onSendHandler} disabled={isLoading} style={styleLogin}/>\r\n        </div>\r\n    )\r\n}\r\n","import {instance} from '../../../../dal/api'\r\n\r\nexport const regAPI  = {\r\n    async register(email: string, password: string) {\r\n        const result = await instance.post('/auth/register', {email, password})\r\n        return  result.data\r\n    }\r\n}\r\n","import {ThunkActionType} from '../../../../entites/entites';\r\nimport {regAPI} from '../api/regAPI';\r\nimport {AppPayloadType, payload} from '../../InitialApp/appReducer';\r\n\r\nconst initialState = {\r\n    success: false\r\n}\r\n\r\n\r\nexport const registerReducer = (state: InitialState = initialState, action: RegisterActionsType) => {\r\n    switch (action.type) {\r\n        case 'PAYLOAD/REGISTER/REDUCER':\r\n            return {\r\n                ...state, success: action.success\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n//action creator\r\nexport const setSuccess = (success: boolean) => ({type: 'PAYLOAD/REGISTER/REDUCER', success} as const)\r\n//thunk\r\nexport const registerThunk = (email: string, password: string, confirmedPassword: string): ThunkRegisterType => {\r\n    return async (dispatch) => {\r\n        dispatch(payload(true, null))\r\n        if (password !== confirmedPassword)\r\n            dispatch(payload(false, 'Password is not match'))\r\n        else if (email === '' || password === '' || confirmedPassword === '')\r\n            dispatch(payload(false, 'All field is required!'))\r\n        else if (password.length <= 7 || confirmedPassword.length <= 7)\r\n            dispatch(payload(false, 'password must be more than 7 char!'))\r\n        else if (!email.match(/^[\\w][\\w-.]*@[\\w-]+\\.[a-z]{2,7}$/i))\r\n            dispatch(payload(false, 'Email is not valid!'))\r\n        else {\r\n            try {\r\n                await regAPI.register(email, password)\r\n                dispatch(setSuccess(true))\r\n                dispatch(payload(false, null))\r\n\r\n            } catch (e) {\r\n                dispatch(payload(false, e.response.data.error))\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n//type\r\ntype InitialState = typeof initialState\r\ntype ThunkRegisterType = ThunkActionType<RegisterActionsType | AppPayloadType>\r\ntype RegisterActionsType = ReturnType<typeof setSuccess>\r\n","import React, {ChangeEvent, useEffect, useState} from 'react'\r\nimport {Input} from '../../../../components/helpComponent/Input'\r\nimport {Button} from '../../../../components/helpComponent/Button'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {AppStateType} from '../../../../bll/store'\r\nimport {registerThunk, setSuccess} from '../bll/registerReducer'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {Preloader} from '../../../../components/helpComponent/Preloader'\r\n\r\nexport const RegisterForm = React.memo(() => {\r\n    const [email, setEmail] = useState('')\r\n    const [pass, setPass] = useState('')\r\n    const [confirm, setConfirm] = useState('')\r\n    const dispatch = useDispatch()\r\n    const {success} = useSelector((state: AppStateType) => state.register)\r\n    const {isLoading} = useSelector((state: AppStateType) => state.app)\r\n\r\n    const changeEmailHandler = (event: ChangeEvent<HTMLInputElement>) => setEmail(event.target.value)\r\n    const changePassHandler = (event: ChangeEvent<HTMLInputElement>) => setPass(event.target.value)\r\n    const changeConfirmHandler = (event: ChangeEvent<HTMLInputElement>) => setConfirm(event.target.value)\r\n    const onSendHandler = () => dispatch(registerThunk(email, pass, confirm))\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(setSuccess(false))\r\n        }\r\n    }, [dispatch])\r\n\r\n    if (success) {\r\n        return <Redirect to={'/login'}/>\r\n    }\r\n    return (\r\n        <div className={'page-form'}>\r\n            <h2>Register</h2>\r\n            <div>{isLoading && <Preloader/>}</div>\r\n            <br/>\r\n            <Input placeholder={'email'} onChange={changeEmailHandler} value={email}/>\r\n            <Input placeholder={'password'} type={'password'} onChange={changePassHandler} value={pass}/>\r\n            <Input placeholder={'confirm password'} type={'password'} onChange={changeConfirmHandler} value={confirm}/>\r\n            <Button name={'send'} onClick={onSendHandler} disabled={isLoading}/>\r\n        </div>\r\n    )\r\n})\r\n","import {instance} from '../../../../dal/api'\r\n\r\nexport const recoveryAPI = {\r\n    async sendRequest(email: string, html1: string, html2: string) {\r\n        const result = await instance.post('/auth/forgot', {email, html1, html2})\r\n        return result.data\r\n    },\r\n    async newPassword(token: string, password: string) {\r\n        const result = await instance.post('/auth/set-new-password', {token, password})\r\n        return result.data\r\n    }\r\n}\r\n","import {InferActionTypes} from '../../../../entites/entites'\r\nimport {Dispatch} from 'redux';\r\nimport {recoveryAPI} from '../api/recoveryAPI';\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    error: '',\r\n    success: false\r\n}\r\ntype RecoveryType = typeof initialState\r\ntype RecoveryActions = InferActionTypes<typeof actions>\r\nexport const recoveryReducer = (state:RecoveryType = initialState, action: RecoveryActions) => {\r\n    switch (action.type) {\r\n        case 'RECOVERY/REDUCER':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst actions = {\r\n    recoveryPayload: (loading: boolean, error: string, success: boolean) =>({type: 'RECOVERY/REDUCER', payload: {\r\n            loading, error, success\r\n        }})\r\n}\r\n\r\nexport const recoveryThunk = (email: string) => {\r\n    return async (dispatch: Dispatch<RecoveryActions>) => {\r\n        dispatch(actions.recoveryPayload(true, '', false))\r\n        try {\r\n            const html1 = \"<a href='http://localhost:3000/reset-password/\"\r\n            const html2 = \">reset-password-link</a>\"\r\n            const data = await recoveryAPI.sendRequest(email, html1, html2)\r\n            dispatch(actions.recoveryPayload(false, '', data.success))\r\n        }\r\n        catch (e) {\r\n            const err = e.response.data.error\r\n            dispatch(actions.recoveryPayload(false, err, false))\r\n        }\r\n    }\r\n}\r\n\r\nexport const newPassword = (token: string, password: string) => {\r\n    return async (dispatch: Dispatch<RecoveryActions>) => {\r\n        dispatch(actions.recoveryPayload(true, '', false))\r\n        try {\r\n            let result = await recoveryAPI.newPassword(token, password)\r\n            dispatch(actions.recoveryPayload(false, '', result.success))\r\n        }\r\n        catch (e) {\r\n            const err = e.response.data.error\r\n            dispatch(actions.recoveryPayload(false, err, false))\r\n        }\r\n\r\n\r\n    }\r\n}\r\n","import {Input} from '../../../../components/helpComponent/Input'\r\nimport {Button} from '../../../../components/helpComponent/Button'\r\nimport React, {useCallback, useState} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {AppStateType} from '../../../../bll/store'\r\nimport {recoveryThunk} from '../bll/recoveryReducer';\r\n\r\n\r\nexport const Forgot = React.memo( () => {\r\n    const {loading, success, error} =  useSelector((state: AppStateType) => state.recovery )\r\n    const [email, setEmail] = useState('')\r\n    const dispatch = useDispatch()\r\n\r\n    const changeEmailHandler = useCallback( (event) => {\r\n        setEmail(event.target.value)\r\n    },[setEmail])\r\n\r\n    const onSendHandler = useCallback( () => {\r\n        dispatch(recoveryThunk(email))\r\n    }, [dispatch, email])\r\n    return(\r\n        <div className={'page-form'}>\r\n            <h2>forgot password</h2>\r\n            {loading && <span style={{fontWeight: 'bold'}}>loading</span>}\r\n            {error && <span style={{color: 'red'}}>{error}</span>}\r\n            {success && <span style={{fontWeight: 'bold'}}>message send to email</span>}\r\n            <br/>\r\n            <Input placeholder={'email'} onChange={changeEmailHandler} value={email}/>\r\n            <Button name={'send'} onClick={onSendHandler} disabled={loading}/>\r\n        </div>\r\n    )\r\n})\r\n","import {Input} from '../../../../components/helpComponent/Input'\r\nimport {Button} from '../../../../components/helpComponent/Button'\r\nimport React, {useCallback, useState} from 'react'\r\nimport { useParams, RouteComponentProps, Redirect } from 'react-router-dom'\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppStateType} from '../../../../bll/store';\r\nimport { newPassword } from '../bll/recoveryReducer';\r\n\r\n\r\nexport const NewPassword = React.memo( (props: RouteComponentProps) => {\r\n    const {loading, error, success} = useSelector( (state: AppStateType) => state.recovery)\r\n    const [password, setPassword] = useState('')\r\n    const {token} =  useParams()\r\n    const dispatch = useDispatch()\r\n\r\n    const setNewPassword = useCallback( (event) => {\r\n        setPassword(event.target.value)\r\n    }, [setPassword])\r\n    const sendHandler = () => {\r\n        dispatch(newPassword(token, password))\r\n    }\r\n    if(success) {\r\n        return <Redirect to={'/login'} />\r\n    }\r\n    return(\r\n        <div className={'page-form'}>\r\n            <h3>new password</h3>\r\n            {loading && <span style={{fontWeight: 'bold'}}>loading</span>}\r\n            {error && <span style={{color: 'red'}}>{error}</span>}\r\n            <Input placeholder={'new password'} type={'password'} value={password} onChange={setNewPassword}/>\r\n            <Button name={'send'} disabled={loading} onClick={sendHandler}/>\r\n        </div>\r\n    )\r\n})\r\n","import React, {useState} from 'react'\r\nimport style from './Pagination.module.scss'\r\ntype PaginationType = {\r\n    cardPacksTotalCount: number\r\n    page: number\r\n    onPageChanged: (number: number) => void\r\n    portionSize: number\r\n\r\n}\r\nexport const Pagination = (props: PaginationType) => {\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    // pageCount сколько всего страничек\r\n    let pageCount = Math.ceil(props.cardPacksTotalCount / props.portionSize)\r\n    let sizePage = []\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        sizePage.push(i)\r\n    }\r\n\r\n    // portionCount количество порций\r\n    const portionCount = Math.ceil(pageCount / props.portionSize)\r\n\r\n    const leftPortion = (portionNumber - 1) * props.portionSize + 1\r\n    const rightPortion = portionNumber * props.portionSize\r\n    const filteredPage = sizePage.filter(p => p >= leftPortion && p <= rightPortion)\r\n    return (\r\n        <div className={style.pagination}>{portionNumber > 1 && <span onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}> <button>{'<'}</button> </span>}\r\n            {filteredPage.map(p => {\r\n                return <span onClick={() => props.onPageChanged(p)} key={p}>{p === props.page ? <b>{p}</b> : p}</span>\r\n            })}\r\n            {portionCount > portionNumber && <span onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}> <span>{'>'}</span> </span>}\r\n        </div>\r\n\r\n    )\r\n}\r\n","import {instance} from '../../../dal/api'\r\nexport type CardType = {\r\n    answer: string\r\n    cardsPack_id: string\r\n    comments: string\r\n    grade: number\r\n    more_id: string\r\n    question: string\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    user_id: string\r\n    created: string\r\n    _id: string\r\n}\r\nexport type ResponseCardType = {\r\n    cards: Array<CardType>\r\n    error: string\r\n    cardsTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    page: number\r\n    pageCount: number\r\n    token: string\r\n    tokenDeathTime: string\r\n}\r\nexport const cardsAPI = {\r\n    async getCards(packId: string, page = 1) {\r\n        const id =  `?cardsPack_id=${packId}`\r\n        const result = await instance\r\n            .get<ResponseCardType>(`/cards/card${id}&page=${page}&pageCount=6`)\r\n        return result.data\r\n    },\r\n    async createCard(id: string, question: string, answer = '') {\r\n        const result = await instance.post('/cards/card', {\r\n            card: {\r\n                cardsPack_id: id,\r\n                question,\r\n                answer,\r\n            }\r\n        })\r\n        return result.data\r\n    },\r\n    async deleteCard(id:string) {\r\n        const result = await instance.delete(`/cards/card?id=${id}`)\r\n        return result.data\r\n    },\r\n    async updateCard(id:string, question: string, answer = '') {\r\n        const result = await instance.put('/cards/card',{\r\n            card: {\r\n                _id: id,\r\n                question,\r\n                answer,\r\n            }\r\n\r\n        })\r\n        return result.data\r\n    },\r\n    async grateCard(id: string, grade: number) {\r\n       await instance.put(`/cards/grade`, {card_id: id, grade})\r\n    }\r\n}\r\n","import {instance} from '../../../dal/api'\r\n\r\nexport type CardPack = {\r\n    cardsCount: number\r\n    grade: number\r\n    name: string\r\n    private: boolean\r\n    rating: number\r\n    shots: number\r\n    user_id: string\r\n    user_name: string\r\n    _id: string\r\n}\r\nexport type PacksType = {\r\n    cardPacks: Array<CardPack>\r\n    cardPacksTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    page: number\r\n    pageCount: number\r\n    token: string\r\n    error?: string\r\n}\r\ntype DataType = {\r\n    success: boolean\r\n    token: string\r\n    error?: string\r\n}\r\nexport const packsAPI = {\r\n    async getPacks(search: string, page = 1) {\r\n        const packName = search ? `&packName=${search}`: ''\r\n        const result = await instance\r\n            .get<PacksType>(`/cards/pack?page=${page}${packName}&pageCount=6`)\r\n        return result.data\r\n    },\r\n    async createPack(value: string) {\r\n        const result = await instance.post<DataType>('/cards/pack', {\r\n            cardsPack: {\r\n                name: value\r\n            }\r\n        })\r\n        return result.data\r\n    },\r\n    async deletePack(id:string) {\r\n        const result = await instance.delete<DataType>(`/cards/pack?id=${id}`)\r\n        return result.data\r\n    },\r\n    async updatePack(id:string, value: string) {\r\n    const result = await instance.put<DataType>('/cards/pack',{\r\n        cardsPack: {\r\n            _id: id,\r\n            name: value\r\n        }\r\n    })\r\n        return result.data\r\n    }\r\n}\r\n","import {CardPack, packsAPI} from '../api/packsAPI'\r\nimport {InferActionTypes, ThunkActionType} from '../../../entites/entites'\r\nimport {setTotalPage} from '../../Search/bll/searchReducer'\r\nimport {AppPayloadType, payload} from '../../01-auth/InitialApp/appReducer'\r\n\r\nconst initialState = {\r\n    packs: [] as Array<CardPack>,\r\n}\r\nexport const packsReducer = (state:InitialState = initialState, action: PacksActionsType) => {\r\n    switch (action.type) {\r\n        case 'PACKS_REDUCER/SET_PACKS':\r\n            return {...state, packs: [...action.packs]}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const actions = {\r\n    setPacksSuccess: (packs: Array<CardPack>) => ({type: 'PACKS_REDUCER/SET_PACKS', packs} as const)\r\n}\r\n\r\nexport const getPacks = (search = '', page = 1): ThunkPacksType => async (dispatch, getState) => {\r\n    dispatch(payload(true, null))\r\n    try {\r\n        const data = await packsAPI.getPacks(search, page)\r\n        dispatch(setTotalPage(data.cardPacksTotalCount, page))\r\n        dispatch(actions.setPacksSuccess(data.cardPacks))\r\n        dispatch(payload(false, null))\r\n    } catch (e) {\r\n        dispatch(payload(false, e.response.data.error))\r\n    }\r\n}\r\nexport const createPack = (value: string): ThunkPacksType => async (dispatch) => {\r\n    dispatch(payload(true, null))\r\n    try {\r\n        await packsAPI.createPack(value)\r\n        dispatch(payload(false, null))\r\n        dispatch(getPacks())\r\n    } catch\r\n        (e) {\r\n        dispatch(payload(true, e.response.data.error))\r\n    }\r\n}\r\nexport const updatePack = (id: string, value: string): ThunkPacksType => async (dispatch) => {\r\n    dispatch(payload(true, null))\r\n    try {\r\n        await packsAPI.updatePack(id, value)\r\n        dispatch(payload(false, null))\r\n        dispatch(getPacks())\r\n    } catch (e) {\r\n        dispatch(payload(false, e.response.data.error))\r\n    }\r\n}\r\nexport const deletePack = (id: string): ThunkPacksType => async (dispatch) => {\r\n    dispatch(payload(true, null))\r\n    try {\r\n        await packsAPI.deletePack(id)\r\n        dispatch(payload(false, null))\r\n        dispatch(getPacks())\r\n    } catch (e) {\r\n        dispatch(payload(false, e.response.data.error))\r\n    }\r\n}\r\ntype InitialState = typeof initialState\r\ntype ThunkPacksType = ThunkActionType<PacksActionsType | AppPayloadType>\r\ntype PacksActionsType = InferActionTypes<typeof actions>\r\n","import {InferActionTypes, ThunkActionType} from '../../../entites/entites'\r\nimport {getPacks} from '../../Packs/bll/packsReducer'\r\n\r\nconst initialState = {\r\n    settings: {\r\n        search: '',\r\n        page:1,\r\n        total: 10\r\n    }\r\n}\r\n\r\nexport const searchReducer = (state:InitialStateType = initialState, action: ActionsSearchType) => {\r\n    switch (action.type) {\r\n        case 'SEARCH_REDUCER/SET_SEARCH':\r\n        case 'SEARCH_REDUCER/SET_CURRENT_PAGE':\r\n        case 'SEARCH_REDUCER/SET_TOTAL_COUNT':return {\r\n            ...state,\r\n            settings: {...state.settings, ...action.payload}\r\n        }\r\n        default: return state\r\n    }\r\n}\r\n// action creator\r\nexport const actions = {\r\n    setSearch: (search: string) => ({type:'SEARCH_REDUCER/SET_SEARCH', payload: {search}} as const),\r\n    setCurrentPage: (page: number) => ({type:'SEARCH_REDUCER/SET_CURRENT_PAGE', payload:{page} } as const),\r\n    setTotalCount: (total: number) => ({type:'SEARCH_REDUCER/SET_TOTAL_COUNT', payload:{total} } as const)\r\n}\r\n\r\n// thunk\r\nexport const setTotalPage = (total: number, page: number):ThunkSearchType =>(dispatch) => {\r\n    dispatch(actions.setTotalCount(total))\r\n    dispatch(actions.setCurrentPage(page))\r\n}\r\nexport const setSearch = (value: string):ThunkSearchType => async (dispatch) => {\r\n    dispatch(actions.setSearch(value))\r\n    dispatch(getPacks(value))\r\n}\r\nexport const setPage = (num: number):ThunkSearchType => async (dispatch, getState) => {\r\n    dispatch(actions.setCurrentPage(num))\r\n}\r\n\r\n// type\r\ntype InitialStateType = typeof initialState\r\ntype ActionsSearchType = InferActionTypes<typeof actions>\r\ntype ThunkSearchType = ThunkActionType<ActionsSearchType>\r\n","import {cardsAPI, CardType} from '../api/cardsAPI'\r\nimport {setTotalPage} from '../../Search/bll/searchReducer'\r\nimport {AppPayloadType, payload} from '../../01-auth/InitialApp/appReducer'\r\nimport {ThunkActionType} from '../../../entites/entites'\r\n\r\nconst initialState = {\r\n    cards: [] as Array<CardType>,\r\n}\r\ntype InitialState = typeof initialState\r\nexport const cardsReducer = (state: InitialState = initialState, action: ActionCardsReducerType) => {\r\n    switch (action.type) {\r\n        case 'SET_CARDS/CARDS_REDUCER':\r\n            return {...state, cards: [...action.cards]}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst setCardsSuccess = (cards: Array<CardType>) => ({type: 'SET_CARDS/CARDS_REDUCER', cards} as const)\r\n\r\nexport const getCardThunk = (packId: string, page = 1): ThunkCardsType => async (dispatch) => {\r\n    dispatch(payload(true, null))\r\n    try {\r\n        const data = await cardsAPI.getCards(packId, page)\r\n        dispatch(payload(false, null))\r\n        dispatch(setTotalPage(data.cardsTotalCount, page))\r\n        dispatch(setCardsSuccess(data.cards))\r\n    } catch (e) {\r\n        dispatch(payload(false, e.response.data.error))\r\n    }\r\n}\r\nexport const addCard = (packId: string, question: string, answer: string): ThunkCardsType => async (dispatch) => {\r\n    dispatch(payload(true, null))\r\n    try {\r\n        await cardsAPI.createCard(packId, question, answer)\r\n        dispatch(payload(false, null))\r\n        dispatch(getCardThunk(packId))\r\n    } catch (e) {\r\n        dispatch(payload(false, e.response.data.error))\r\n    }\r\n}\r\nexport const deleteCard = (cardId: string, packId: string): ThunkCardsType => async (dispatch) => {\r\n    dispatch(payload(true, null))\r\n    try {\r\n        await cardsAPI.deleteCard(cardId)\r\n        dispatch(payload(false, null))\r\n        dispatch(getCardThunk(packId))\r\n    } catch (e) {\r\n        dispatch(payload(false, e.response.data.error))\r\n    }\r\n}\r\nexport const updateCard = (cardId: string, packId: string, question: string, answer: string): ThunkCardsType =>\r\n    async (dispatch) => {\r\n        dispatch(payload(true, null))\r\n        try {\r\n            await cardsAPI.updateCard(cardId, question, answer)\r\n            dispatch(payload(false, null))\r\n            dispatch(getCardThunk(packId))\r\n        } catch (e) {\r\n            dispatch(payload(false, e.response.data.error))\r\n        }\r\n    }\r\nexport const sendGrade = (id: string, grades: number): ThunkCardsType => async (dispatch) => {\r\n    await cardsAPI.grateCard(id, grades)\r\n}\r\ntype ActionCardsReducerType = ReturnType<typeof setCardsSuccess>\r\ntype ThunkCardsType = ThunkActionType<ActionCardsReducerType | AppPayloadType>\r\n","import React from 'react'\r\nimport style from './Modal.module.scss'\r\n\r\n\r\nexport const Modal: React.FC<ModalType> = ({children, closeModal, show}) => {\r\n    const closeHandler = (event: React.KeyboardEvent & React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n        // if (event.target === overlayRef.current) closeModal()\r\n        closeModal()\r\n    }\r\n    if (!show) {\r\n        return null\r\n    }\r\n    return (\r\n        <>\r\n            <div className={style.modalOverlay} onClick={closeHandler} />\r\n            <div className={style.modal}>\r\n                <div className={style.modalClose} onClick={closeHandler}>&times;</div>\r\n                {children}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\ntype ModalType = {\r\n    show: boolean\r\n    closeModal: () => void\r\n}\r\n","import React, {useState} from 'react'\r\nimport {Input} from './Input'\r\nimport {Button} from './Button'\r\nimport {Modal} from '../../fatures/Modal/Modal'\r\n\r\n\r\nexport const FormCardModal: React.FC<PropsType> = (props) => {\r\n    const [question, setQuestion] = useState('')\r\n    const [answer, setAnswer] = useState('')\r\n    const closeModalHandler = () => {\r\n        props.setOpenModal(!props.openModal)\r\n        setQuestion('')\r\n        setAnswer('')\r\n    }\r\n    const addItemHandler = () => {\r\n        question.trim() && props.addItem(question, answer)\r\n        closeModalHandler()\r\n    }\r\n    return (\r\n        <Modal show={props.openModal} closeModal={closeModalHandler}>\r\n            <div>\r\n                <h2>{props.title} :</h2>\r\n                <Input value={question} onChange={(e) => setQuestion(e.currentTarget.value)}/>\r\n                <Input value={answer} onChange={(e) => setAnswer(e.currentTarget.value)}/>\r\n            </div>\r\n            <div style={{display: 'flex', flexDirection: 'column'}}>\r\n                <Button name={'send'} style={{margin: '5px'}} onClick={addItemHandler}/>\r\n                <Button name={'back'} style={{margin: '5px'}} onClick={closeModalHandler}/>\r\n            </div>\r\n        </Modal>\r\n    )\r\n}\r\ntype PropsType = {\r\n    openModal: boolean\r\n    setOpenModal: (open: boolean) => void\r\n    addItem: (question: string, answer: string) => void\r\n    title: string\r\n}\r\n","import React from 'react'\r\nimport style from './Card.module.scss'\r\nimport {CardType} from '../api/cardsAPI'\r\n\r\ntype PropsType = {\r\n    oneCard: CardType\r\n}\r\nexport const SingleCard:React.FC<PropsType> = (props) => {\r\n    let {oneCard} = props\r\n    if(!oneCard) {\r\n        return  <div>no cards yet</div>\r\n    }\r\n    return (\r\n        <div className={style.container}>\r\n            <div className={style.items}>\r\n                <div className={`${style.front}  ${style.side}`}>\r\n                    <div className={style.content}>\r\n                        <h1>question</h1>\r\n                        <p>{oneCard.question}</p>\r\n                    </div>\r\n                </div>\r\n                <div className={`${style.back} ${style.side}`}>\r\n                    <div className={style.content}>\r\n                        <h1>answer</h1>\r\n                        <p>{oneCard.answer}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import {CardType} from '../../Cards/api/cardsAPI'\r\nimport React, {useEffect, useState} from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {SingleCard} from '../../Cards/ui/SingleCard'\r\nimport {Modal} from '../../Modal/Modal'\r\nimport style from './LearnPage.module.scss'\r\nimport {Button} from '../../../components/helpComponent/Button'\r\nimport {sendGrade} from '../../Cards/bll/cardsReducer'\r\n\r\n\r\nexport const LearnPage: React.FC<PropsType> = ({id, cards, show, onClose}) => {\r\n    const [currentCard, setCurrentCard] = useState<CardType>(cards[0])\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        if (cards.length > 0) setCurrentCard(getCard(cards))\r\n    }, [dispatch, id, cards])\r\n    const onNext = () => setCurrentCard(getCard(cards))\r\n    const sentGrade = (grades: number) => dispatch(sendGrade(currentCard._id, grades))\r\n\r\n    return (\r\n        <Modal show={show} closeModal={onClose}>\r\n            <p>Learn page : </p>\r\n            <div className={style.page}>\r\n                <Button onClick={onNext} name={'next'} disabled={!currentCard}/>\r\n                <SingleCard oneCard={currentCard}/>\r\n            </div>\r\n            {currentCard && grades.map((g, i) => (\r\n                <button key={'grade-' + i} onClick={() => sentGrade(g)}>{g}</button>))}\r\n        </Modal>\r\n    )\r\n}\r\n\r\nconst grades = [1, 2, 3, 4, 5]\r\nconst getCard = (cards: CardType[]) => {\r\n    const sum = cards.reduce((acc, card) => acc + (6 - card.grade) * (6 - card.grade), 0)\r\n    const rand = Math.random() * sum\r\n    const res = cards.reduce((acc: { sum: number, id: number }, card, i) => {\r\n            const newSum = acc.sum + (6 - card.grade) * (6 - card.grade)\r\n            return {sum: newSum, id: newSum < rand ? i : acc.id}\r\n        }\r\n        , {sum: 0, id: -1})\r\n    return cards[res.id + 1]\r\n}\r\ntype PropsType = {\r\n    id: string\r\n    cards: Array<CardType>\r\n    show: boolean\r\n    onClose: () => void\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport {RouteComponentProps, useParams} from 'react-router-dom'\r\nimport {Pagination} from '../../Pagination/Pagination'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {addCard, deleteCard, getCardThunk, updateCard} from '../bll/cardsReducer'\r\nimport {AppStateType} from '../../../bll/store'\r\nimport {Button} from '../../../components/helpComponent/Button'\r\nimport {FormCardModal} from '../../../components/helpComponent/FormCardsModal'\r\nimport {LearnPage} from '../../LearnPage/ui/LearnPage'\r\nimport style from './Card.module.scss'\r\n\r\n\r\nexport const Cards = React.memo((props: RouteComponentProps<any>) => {\r\n    const [modalCreate, setModalCreate] = useState(false)\r\n    const [modalUpdate, setModalUpdate] = useState(false)\r\n    const [showLearn, setShowLearn] = useState(false)\r\n    const [currentId, setCurrentId] = useState('')\r\n    const [page, setPage] = useState(1)\r\n    const {cards} = useSelector((state: AppStateType) => state.card)\r\n    const {settings} = useSelector((state: AppStateType) => state.search)\r\n    const {id} = useParams()\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getCardThunk(id, page))\r\n    }, [dispatch, page, id])\r\n\r\n    const createCardHandler = (question: string, answer: string) => dispatch(addCard(id, question, answer))\r\n    const deleteCardHandler = (cardId: string) => dispatch(deleteCard(cardId, id))\r\n    const updateHandler = (question: string, answer: string) => dispatch(updateCard(currentId, id, question, answer))\r\n\r\n    const openUpdateModal = (cardId: string) => {\r\n        setCurrentId(cardId)\r\n        setModalUpdate(true)\r\n    }\r\n\r\n    return (\r\n        <> <div className={style.page}>\r\n            <div className={style.overlay}>\r\n                <h3> Create card\r\n                    <Button name={'+'} onClick={() => setModalCreate(!modalCreate)}\r\n                            style={{display: 'inline-flex',marginLeft:'10px'}}/>\r\n                </h3>\r\n                <h3> Learn Page\r\n                    <Button name={'Learn Page'} onClick={() => setShowLearn(!showLearn)}\r\n                            style={{display: 'inline-flex',marginLeft:'10px'}}/>\r\n                </h3>\r\n                <FormCardModal openModal={modalCreate} setOpenModal={() => setModalCreate(!modalCreate)}\r\n                               addItem={createCardHandler} title={'Create card'}/>\r\n                <FormCardModal openModal={modalUpdate} setOpenModal={() => setModalUpdate(!modalUpdate)}\r\n                               addItem={updateHandler} title={'update card'}/>\r\n                <table>\r\n                    <thead>\r\n                    <tr>\r\n                        <td>Question</td>\r\n                        <td>Gade</td>\r\n                        <td>delete</td>\r\n                        <td>update</td>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {cards.map(c => {\r\n                        return <tr key={c.more_id + c.created} id={c._id}>\r\n                            <td>{c.question}</td>\r\n                            <td>{c.grade}</td>\r\n                            <td onClick={() => deleteCardHandler(c._id)}><span>delete</span></td>\r\n                            <td onClick={() => openUpdateModal(c._id)}><span>update</span></td>\r\n                        </tr>\r\n                    })}\r\n                    </tbody>\r\n                </table>\r\n                <LearnPage id={id} cards={cards} show={showLearn} onClose={() => setShowLearn(!showLearn)}/>\r\n            </div>\r\n            <Pagination cardPacksTotalCount={settings.total}\r\n                        page={settings.page} onPageChanged={setPage} portionSize={6}/>\r\n        </div>\r\n        </>\r\n    )\r\n})\r\n\r\n","import React from 'react'\r\nimport userPhoto from '../../../../assets/avatar.png'\r\nimport style from './Profile.module.scss'\r\nimport {Button} from '../../../../components/helpComponent/Button'\r\n\r\ntype ProfilePropsType = {\r\n    profile: {\r\n        name: string | null,\r\n        id: string | null,\r\n        avatar: string | null\r\n    }\r\n    logout: () => void\r\n}\r\n\r\nexport const Profile =React.memo( ({profile, logout}:ProfilePropsType) => {\r\n    return (\r\n        <div className={'page'}>\r\n            <div className={style.overlayProfile}>\r\n                <div className={style.profile}>\r\n                    <img src={userPhoto} alt=\"user\"/>\r\n                </div>\r\n                <div>{profile.name}</div>\r\n                <Button name={'logout'} style={{marginTop: '30px'}} onClick={logout}/>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n","import React, {ChangeEvent, useState} from 'react'\r\nimport {Input} from '../../components/helpComponent/Input'\r\nimport {Button} from '../../components/helpComponent/Button'\r\ntype PropsType = {\r\n    search: (value: string) => void\r\n}\r\nexport const Search = React.memo((props:PropsType) => {\r\n    const [value, setValue] = useState('')\r\n    const changeInput = (event: ChangeEvent<HTMLInputElement>) => setValue(event.target.value)\r\n    const searchHandler = () => props.search(value)\r\n    const onKeyHandler = (e: React.KeyboardEvent) => {\r\n        if(e.charCode === 13) props.search(value)\r\n    }\r\n    return(\r\n        <>\r\n            <Input placeholder={'search'} value={value} onChange={changeInput} onKeyPress={onKeyHandler}/>\r\n            <Button name={'search'} style={{display: 'inline-block'}} onClick={searchHandler}/>\r\n        </>\r\n    )\r\n})\r\n","import React, {useState} from 'react'\r\nimport {Input} from './Input'\r\nimport {Button} from './Button'\r\nimport {Modal} from '../../fatures/Modal/Modal'\r\n\r\n\r\nexport const FormModal: React.FC<PropsType> = (props) => {\r\n    const [value, setValue] = useState('')\r\n    const closeModalHandler = () => {\r\n        props.setOpenModal(!props.openModal)\r\n        setValue('')\r\n    }\r\n    const addDeckHandler = () => {\r\n        value.trim() && props.add(value)\r\n        closeModalHandler()\r\n    }\r\n    return (\r\n        <Modal show={props.openModal} closeModal={closeModalHandler}>\r\n            <div>\r\n                <h2>{props.title} :</h2>\r\n                <Input value={value} onChange={(e) => setValue(e.currentTarget.value)}/>\r\n            </div>\r\n            <div style={{display: 'flex', flexDirection: 'column'}}>\r\n                <Button name={'send'} style={{margin: '5px'}} onClick={addDeckHandler}/>\r\n                <Button name={'back'} style={{margin: '5px'}} onClick={closeModalHandler}/>\r\n            </div>\r\n        </Modal>\r\n    )\r\n}\r\ntype PropsType = {\r\n    openModal: boolean\r\n    setOpenModal: (open: boolean) => void\r\n    add: (value: string) => void\r\n    title: string\r\n}\r\n","import React, {useState} from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {deletePack, updatePack} from '../bll/packsReducer'\r\nimport {Link} from '../../../components/helpComponent/Link'\r\nimport {FormModal} from '../../../components/helpComponent/FormModal'\r\n\r\n\r\nexport const CardPack = React.memo((props: CardType) => {\r\n    const [changeModal, setChangeModal] = useState(false)\r\n    const dispatch = useDispatch()\r\n    const openModal = () => setChangeModal(!changeModal)\r\n    const updateHandler = (value: string) => dispatch(updatePack(props.id, value))\r\n    const deleteHandler = () => dispatch(deletePack(props.id))\r\n    return (\r\n        <>\r\n            <tr>\r\n                <td><Link path={'/cards/' + props.id} title={props.name}/></td>\r\n                <td>{props.grade}</td>\r\n                <td>{props.cardsCount}</td>\r\n                <td>\r\n                    <div className={'button'} onClick={deleteHandler}>delete</div>\r\n                    <div className={'button'} onClick={openModal}>change</div>\r\n                </td>\r\n            </tr>\r\n            <FormModal openModal={changeModal}\r\n                       setOpenModal={openModal}\r\n                       add={updateHandler} title={'new title pack'}/>\r\n        </>\r\n    )\r\n})\r\ntype CardType = {\r\n    id: string\r\n    name: string,\r\n    grade: number\r\n    cardsCount: number\r\n}\r\n","import React, {useCallback, useEffect, useState} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {createPack, getPacks} from '../bll/packsReducer'\r\nimport {AppStateType} from '../../../bll/store'\r\nimport {Search} from '../../Search/Search'\r\nimport {CardPack} from './Pack'\r\nimport {setPage, setSearch} from '../../Search/bll/searchReducer'\r\nimport {Pagination} from '../../Pagination/Pagination'\r\nimport {Button} from '../../../components/helpComponent/Button'\r\nimport {FormModal} from '../../../components/helpComponent/FormModal'\r\nimport {Redirect} from 'react-router-dom'\r\nimport style from './Packs.module.scss'\r\n\r\nexport const CardPacks = React.memo(() => {\r\n    const {packs} = useSelector((state: AppStateType) => state.packs)\r\n    const {settings} = useSelector((state: AppStateType) => state.search)\r\n    const {isLoading} = useSelector((state: AppStateType) => state.app)\r\n    const {isAuth} = useSelector((state: AppStateType) => state.login)\r\n    const [openModal, setOpenModal] = useState<boolean>(false)\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(getPacks(settings.search, settings.page))\r\n    }, [dispatch, settings.page, settings.search])\r\n    const openAddDeck = () => setOpenModal(true)\r\n    const addDeck = (value: string) => dispatch(createPack(value))\r\n    const searchInput = useCallback((value: string) => dispatch(setSearch(value)), [dispatch])\r\n    const onChangePage = (num: number) => dispatch(setPage(num))\r\n    if (!isAuth) {\r\n        return <Redirect to={'/login'}/>\r\n    }\r\n    return (\r\n        <div className={style.page}>\r\n            <h2>PACKS</h2>\r\n            <div>\r\n                <Search search={searchInput}/>\r\n                <Button onClick={openAddDeck} name={'ADD PACK'} disabled={isLoading}/>\r\n            </div>\r\n            <div className={style.overlay}>\r\n                <table>\r\n                    <thead>\r\n                    <tr>\r\n                        <td>name</td>\r\n                        <td>Grade</td>\r\n                        <td>cards total</td>\r\n                        <td>actions</td>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {packs.map(pack => <CardPack\r\n                        key={pack._id + new Date().getTime()} id={pack._id}\r\n                        name={pack.name} grade={pack.grade}\r\n                        cardsCount={pack.cardsCount}\r\n                    />)}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <Pagination cardPacksTotalCount={settings.total} page={settings.page}\r\n                        onPageChanged={onChangePage} portionSize={20}/>\r\n            <FormModal openModal={openModal} setOpenModal={setOpenModal} add={addDeck} title={'add new decks'}/>\r\n        </div>\r\n    )\r\n\r\n})\r\n\r\n","import React from 'react'\r\nimport {Profile} from './Profile'\r\nimport {CardPacks} from '../../../Packs/ui/Packs'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {AppStateType} from '../../../../bll/store'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {logout} from '../../Login/bll/loginReducer'\r\n\r\n\r\nexport const ProfileContainer: React.FC = () => {\r\n    const dispatch = useDispatch()\r\n    const {profile, isAuth} = useSelector((state: AppStateType) => state.login)\r\n    const logoutHandler = () => {\r\n        dispatch(logout())\r\n    }\r\n    if(!isAuth){\r\n        return <Redirect to={'/login'}/>\r\n    }\r\n    return (\r\n        <div className={'wrapper'}>\r\n            <Profile profile={profile} logout={logoutHandler}/>\r\n            <CardPacks/>\r\n        </div>\r\n    )\r\n}\r\n","import { Route, Switch } from 'react-router-dom'\r\nimport React from 'react'\r\nimport {Login} from '../fatures/01-auth/Login/ui/Login'\r\nimport {RegisterForm} from '../fatures/01-auth/Registration/ui/Register'\r\nimport {Forgot} from '../fatures/01-auth/Forgot/ui/Forgot'\r\nimport {NewPassword} from '../fatures/01-auth/Forgot/ui/NewPassword'\r\nimport {Cards} from '../fatures/Cards/ui/Cards'\r\nimport {ProfileContainer} from '../fatures/01-auth/Profile/ui/ProfileContainer';\r\n\r\nexport const Routes = () => {\r\n    return (\r\n        <Switch>\r\n            <Route path={'/login'} render={ () => <Login />}/>\r\n            <Route path={'/profile'} render={ () => <ProfileContainer />}/>\r\n            <Route path={'/cards/:id'} render={ (props) => <Cards {...props}/>}/>\r\n            <Route path={'/registration'} render={ () => <RegisterForm />}/>\r\n            <Route path={'/forgot'} render={ () => <Forgot />}/>\r\n            <Route path={'/reset-password/:token'} render={ (props) => <NewPassword {...props}/>} />\r\n            <Route path={'*'} render={ () => <div>not found</div>}/>\r\n        </Switch>\r\n    )\r\n};\r\n","import React from 'react'\r\nimport style from './ErrorBar.module.scss'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {AppStateType} from '../../bll/store'\r\nimport { payload } from '../../fatures/01-auth/InitialApp/appReducer'\r\nexport const ErrorBar = () => {\r\n    const {error} = useSelector( (state: AppStateType) => state.app)\r\n    const dispatch = useDispatch()\r\n    const closeHandler = () => {\r\n        dispatch(payload(false, null))\r\n    }\r\n    if(!error) {\r\n        return <></>\r\n    }\r\n    return (\r\n        <div className={style.wrapper}>\r\n            <div className={style.errorMessage}>\r\n                <div>{error}</div>\r\n                <button onClick={closeHandler}>X</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport const SettingProfile = () => {\r\n    return (\r\n        <div>\r\n            12312312312313\r\n        </div>\r\n    )\r\n}\r\n","import React, {useEffect} from 'react'\nimport './App.scss'\nimport {Header} from './Header/Header'\nimport {Routes} from './Routes/Routes'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {AppStateType} from './bll/store'\nimport {ErrorBar} from './components/helpComponent/ErrorBar'\nimport {initApp} from './fatures/01-auth/InitialApp/appReducer'\nimport {SettingProfile} from './fatures/01-auth/Profile/ui/SettingProfile'\n\n\nconst App: React.FC = () => {\n    const {initialApp, isLoading} = useSelector((state: AppStateType) => state.app)\n    const {profile, isAuth} = useSelector((state: AppStateType) => state.login)\n    const dispatch = useDispatch()\n    useEffect(() => {\n        dispatch(initApp())\n    }, [dispatch])\n    if (!initialApp) return <div>....loading</div>\n\n    return (\n        <div className=\"App\">\n            <Header profile={profile} isAuth={isAuth} isLoading={isLoading}/>\n            <ErrorBar/>\n            <Routes/>\n            <SettingProfile/>\n        </div>\n    )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {applyMiddleware, combineReducers, createStore} from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport {loginReducer} from '../fatures/01-auth/Login/bll/loginReducer'\r\nimport {registerReducer} from '../fatures/01-auth/Registration/bll/registerReducer'\r\nimport {recoveryReducer} from '../fatures/01-auth/Forgot/bll/recoveryReducer'\r\nimport {packsReducer} from '../fatures/Packs/bll/packsReducer'\r\nimport {cardsReducer} from '../fatures/Cards/bll/cardsReducer'\r\nimport {searchReducer} from '../fatures/Search/bll/searchReducer'\r\nimport {appReducer} from '../fatures/01-auth/InitialApp/appReducer'\r\n\r\nconst rootReducer = combineReducers({\r\n    app: appReducer,\r\n    login: loginReducer,\r\n    register: registerReducer,\r\n    recovery: recoveryReducer,\r\n    packs: packsReducer,\r\n    card: cardsReducer,\r\n    search: searchReducer\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk))\r\n// @ts-ignore\r\nwindow.store = store\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport {HashRouter} from 'react-router-dom'\nimport {Provider} from 'react-redux'\nimport {store} from './bll/store'\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App />\n            </Provider>\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}